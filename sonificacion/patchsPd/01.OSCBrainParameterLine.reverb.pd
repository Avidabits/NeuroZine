#N canvas 0 0 1265 634 10;
#X obj 26 -68 import mrpeach;
#X obj 130 -9 unpackOSC;
#X obj 130 15 routeOSC /eeg;
#X floatatom 500 86 9 0 0 0 - - -, f 9;
#X floatatom 58 86 9 0 0 0 - - -, f 9;
#X floatatom 196 86 9 0 0 0 - - -, f 9;
#X floatatom 356 86 9 0 0 0 - - -, f 9;
#X floatatom 677 86 9 0 0 0 - - -, f 9;
#X obj 17 86 abs;
#X obj 130 -32 udpreceive 9999 127.0.0.1;
#X msg 192 -65 port 9999;
#X msg 131 -69 port 0;
#X obj 57 269 osc~;
#X obj 165 86 abs;
#X obj 310 86 abs;
#X obj 465 86 abs;
#X obj 612 86 abs;
#X floatatom 8 241 5 0 0 0 - - -, f 5;
#X text 11 211 fundamental;
#X obj 195 269 osc~;
#X obj 355 269 osc~;
#X obj 499 269 osc~;
#X floatatom 58 135 11 0 0 0 - - -, f 11;
#N canvas 674 119 451 324 maximo 0;
#X obj 55 28 inlet;
#X obj 55 113 outlet;
#X obj 55 54 expr if ($f1>$f2 \, $f1 \, $f2);
#X floatatom 55 79 11 0 0 0 - - -, f 11;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 2 1;
#X connect 3 0 1 0;
#X restore 58 108 pd maximo;
#X floatatom 196 135 11 0 0 0 - - -, f 11;
#N canvas 674 119 451 324 maximo 0;
#X obj 55 28 inlet;
#X obj 55 113 outlet;
#X obj 55 54 expr if ($f1>$f2 \, $f1 \, $f2);
#X floatatom 55 79 11 0 0 0 - - -, f 11;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 2 1;
#X connect 3 0 1 0;
#X restore 196 108 pd maximo;
#X floatatom 356 135 11 0 0 0 - - -, f 11;
#N canvas 674 119 451 324 maximo 0;
#X obj 55 28 inlet;
#X obj 55 113 outlet;
#X obj 55 54 expr if ($f1>$f2 \, $f1 \, $f2);
#X floatatom 55 79 11 0 0 0 - - -, f 11;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 2 1;
#X connect 3 0 1 0;
#X restore 356 108 pd maximo;
#X floatatom 500 135 11 0 0 0 - - -, f 11;
#N canvas 674 119 451 324 maximo 0;
#X obj 55 28 inlet;
#X obj 55 113 outlet;
#X obj 55 54 expr if ($f1>$f2 \, $f1 \, $f2);
#X floatatom 55 79 11 0 0 0 - - -, f 11;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 2 1;
#X connect 3 0 1 0;
#X restore 500 108 pd maximo;
#X floatatom 677 135 11 0 0 0 - - -, f 11;
#N canvas 836 177 451 348 maximo 0;
#X obj 55 28 inlet;
#X obj 55 113 outlet;
#X obj 55 54 expr if ($f1>$f2 \, $f1 \, $f2);
#X floatatom 55 79 11 0 0 0 - - -, f 11;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 2 1;
#X connect 3 0 1 0;
#X restore 677 108 pd maximo;
#X obj 92 299 *~;
#X obj 230 299 *~;
#X obj 390 299 *~;
#X obj 533 299 *~;
#X obj 712 299 *~;
#X obj 60 346 *~;
#X obj 199 346 *~, f 2;
#X obj 358 346 *~;
#X obj 501 346 *~;
#X obj 680 346 *~;
#X obj 29 318 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 175 321 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 335 321 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 479 322 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 655 319 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 307 -65 dsp;
#X obj 288 -53 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 295 451 dac~;
#X floatatom 72 187 5 0 0 0 - - -, f 5;
#X floatatom 207 183 5 0 0 0 - - -, f 5;
#X floatatom 364 182 5 0 0 0 - - -, f 5;
#X floatatom 515 185 5 0 0 0 - - -, f 5;
#X floatatom 669 184 5 0 0 0 - - -, f 5;
#X text 345 -73 To be used width OpenVibe scenario OSCMeans.xmlÂ  (First
open routeOSC-help from their path in order to dlls be loades);
#X obj 17 58 routeOSC /delta/mean;
#X obj 165 58 routeOSC /theta/mean;
#X obj 310 58 routeOSC /alpha/mean;
#X obj 465 58 routeOSC /beta/mean;
#X obj 613 58 routeOSC /gamma/mean;
#X floatatom 834 87 9 0 0 0 - - -, f 9;
#X obj 769 87 abs;
#X floatatom 834 136 11 0 0 0 - - -, f 11;
#N canvas 674 119 451 324 maximo 0;
#X obj 55 28 inlet;
#X obj 55 113 outlet;
#X obj 55 54 expr if ($f1>$f2 \, $f1 \, $f2);
#X floatatom 55 79 11 0 0 0 - - -, f 11;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 2 1;
#X connect 3 0 1 0;
#X restore 834 109 pd maximo;
#X obj 788 158 expr $f1*10/$f2;
#X floatatom 826 185 13 0 0 0 - - -, f 13;
#X obj 770 58 routeOSC /arousal/mean;
#X floatatom 980 86 9 0 0 0 - - -, f 9;
#X obj 915 86 abs;
#X floatatom 980 135 11 0 0 0 - - -, f 11;
#N canvas 674 119 451 324 maximo 0;
#X obj 55 28 inlet;
#X obj 55 113 outlet;
#X obj 55 54 expr if ($f1>$f2 \, $f1 \, $f2);
#X floatatom 55 79 11 0 0 0 - - -, f 11;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 2 1;
#X connect 3 0 1 0;
#X restore 980 108 pd maximo;
#X obj 934 157 expr $f1*10/$f2;
#X floatatom 972 184 13 0 0 0 - - -, f 13;
#X obj 915 57 routeOSC /valence/mean;
#X obj 164 236 * 1.5;
#X obj 309 236 * 2;
#X obj 464 236 * 2.5;
#X obj 611 236 * 3;
#X obj 676 269 osc~;
#X obj 36 159 expr $f1*10/$f2;
#X obj 169 157 expr $f1*8/$f2;
#X obj 327 154 expr $f1*6/$f2;
#X obj 478 159 expr $f1*4/$f2;
#X obj 631 157 expr $f1*1/$f2;
#X obj 0 -6 loadbang;
#X msg 6 187 110;
#N canvas 103 158 451 301 sube_en_t 0;
#X msg 229 71 400;
#X obj 92 21 inlet;
#X obj 109 184 outlet;
#X obj 169 51 t a b;
#X obj 224 21 inlet;
#X obj 180 100 line \$1 400;
#X connect 0 0 5 1;
#X connect 1 0 3 0;
#X connect 1 0 5 0;
#X connect 3 1 0 0;
#X connect 4 0 0 0;
#X connect 5 0 2 0;
#X restore 690 214 pd sube_en_t \$1;
#N canvas 103 158 451 301 sube_en_t 0;
#X msg 229 71 400;
#X obj 92 21 inlet;
#X obj 109 184 outlet;
#X obj 169 51 t a b;
#X obj 224 21 inlet;
#X obj 180 100 line \$1 400;
#N canvas 103 158 451 301 sube_en_t 0;
#X msg 229 71 400;
#X obj 92 21 inlet;
#X obj 109 184 outlet;
#X obj 169 51 t a b;
#X obj 224 21 inlet;
#X obj 180 100 line \$1 400;
#N canvas 103 158 451 301 sube_en_t 0;
#X msg 229 71 400;
#X obj 92 21 inlet;
#X obj 109 184 outlet;
#X obj 169 51 t a b;
#X obj 224 21 inlet;
#X obj 180 100 line \$1 400;
#N canvas 103 158 451 301 sube_en_t 0;
#X msg 229 71 400;
#X obj 92 21 inlet;
#X obj 109 184 outlet;
#X obj 169 51 t a b;
#X obj 224 21 inlet;
#X obj 180 100 line \$1 400;
#X connect 0 0 5 1;
#X connect 1 0 3 0;
#X connect 1 0 5 0;
#X connect 3 1 0 0;
#X connect 4 0 0 0;
#X connect 5 0 2 0;
#X restore 781 242 pd sube_en_t \$1;
#X connect 0 0 5 1;
#X connect 1 0 3 0;
#X connect 1 0 5 0;
#X connect 3 1 0 0;
#X connect 4 0 0 0;
#X connect 5 0 2 0;
#X restore 781 242 pd sube_en_t \$1;
#X connect 0 0 5 1;
#X connect 1 0 3 0;
#X connect 1 0 5 0;
#X connect 3 1 0 0;
#X connect 4 0 0 0;
#X connect 5 0 2 0;
#X restore 781 242 pd sube_en_t \$1;
#X connect 0 0 5 1;
#X connect 1 0 3 0;
#X connect 1 0 5 0;
#X connect 3 1 0 0;
#X connect 4 0 0 0;
#X connect 5 0 2 0;
#X restore 539 209 pd sube_en_t \$1;
#N canvas 103 158 451 301 sube_en_t 0;
#X msg 229 71 400;
#X obj 92 21 inlet;
#X obj 109 184 outlet;
#X obj 169 51 t a b;
#X obj 224 21 inlet;
#X obj 180 100 line \$1 400;
#X connect 0 0 5 1;
#X connect 1 0 3 0;
#X connect 1 0 5 0;
#X connect 3 1 0 0;
#X connect 4 0 0 0;
#X connect 5 0 2 0;
#X restore 70 36 pd sube_en_t \$1;
#N canvas 103 158 451 301 sube_en_t 0;
#X msg 229 71 400;
#X obj 92 21 inlet;
#X obj 109 184 outlet;
#X obj 169 51 t a b;
#X obj 224 21 inlet;
#X obj 180 100 line \$1 400;
#X connect 0 0 5 1;
#X connect 1 0 3 0;
#X connect 1 0 5 0;
#X connect 3 1 0 0;
#X connect 4 0 0 0;
#X connect 5 0 2 0;
#X restore 379 206 pd sube_en_t \$1;
#N canvas 103 158 451 301 sube_en_t 0;
#X msg 229 71 400;
#X obj 92 21 inlet;
#X obj 109 184 outlet;
#X obj 169 51 t a b;
#X obj 224 21 inlet;
#X obj 180 100 line \$1 400;
#X connect 0 0 5 1;
#X connect 1 0 3 0;
#X connect 1 0 5 0;
#X connect 3 1 0 0;
#X connect 4 0 0 0;
#X connect 5 0 2 0;
#X restore 92 211 pd sube_en_t \$1;
#N canvas 103 158 451 301 sube_en_t 0;
#X msg 229 71 400;
#X obj 92 21 inlet;
#X obj 109 184 outlet;
#X obj 169 51 t a b;
#X obj 224 21 inlet;
#X obj 180 100 line \$1 400;
#X connect 0 0 5 1;
#X connect 1 0 3 0;
#X connect 1 0 5 0;
#X connect 3 1 0 0;
#X connect 4 0 0 0;
#X connect 5 0 2 0;
#X restore 238 214 pd sube_en_t \$1;
#X obj 773 289 s a;
#N canvas 822 100 626 532 piano_rev 0;
#N canvas 105 328 986 609 fft 0;
#X obj 18 500 *~;
#X obj 291 455 *~;
#X obj 258 454 *~;
#X obj 356 456 *~;
#X obj 324 455 *~;
#X obj 324 477 +~;
#X obj 258 479 -~;
#X obj 560 383 *~;
#X obj 54 124 *~;
#X obj 22 124 *~;
#X obj 22 145 +~;
#X obj 325 82 *~;
#X obj 293 82 *~;
#X obj 608 312 *~;
#X obj 576 312 *~;
#X obj 93 63 *~;
#X obj 18 522 outlet~;
#X obj 18 475 *~;
#X obj 126 63 inlet~;
#X obj 93 84 rfft~;
#X obj 18 451 rifft~;
#X obj 576 334 rsqrt~;
#X obj 293 103 +~;
#X obj 484 383 *~;
#X obj 56 499 sig~ 0.0002;
#N canvas 167 161 699 396 decision 0;
#X obj 49 101 inlet~;
#X obj 50 341 outlet~;
#X obj 50 183 -~;
#X obj 50 226 clip~ 0 1;
#X obj 50 204 *~ 1e+020;
#X obj 196 98 inlet~;
#X text 137 213 stronger than;
#X text 139 228 old one;
#X obj 274 202 -~;
#X obj 288 177 lrshift~ 1;
#X obj 274 250 clip~ 0 1;
#X obj 274 228 *~ 1e+020;
#X obj 450 202 -~;
#X obj 450 250 clip~ 0 1;
#X obj 450 228 *~ 1e+020;
#X obj 464 177 lrshift~ -1;
#X obj 50 283 *~;
#X obj 50 312 *~;
#X text 135 199 1 if new signal;
#X text 55 73 new;
#X text 203 70 old;
#X text 51 12 Choose whether to replace the "lod" signal with the "new"
one. The "new" one must be stronger than the old one and also must
be stronger than its two neighboring channels;
#X text 267 283 1 if we're louder than neighbor;
#X connect 0 0 2 0;
#X connect 0 0 9 0;
#X connect 0 0 8 0;
#X connect 0 0 12 0;
#X connect 0 0 15 0;
#X connect 2 0 4 0;
#X connect 3 0 16 0;
#X connect 4 0 3 0;
#X connect 5 0 2 1;
#X connect 8 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 16 1;
#X connect 11 0 10 0;
#X connect 12 0 14 0;
#X connect 13 0 17 1;
#X connect 14 0 13 0;
#X connect 15 0 12 1;
#X connect 16 0 17 0;
#X connect 17 0 1 0;
#X restore 23 172 pd decision;
#X obj 576 356 *~;
#N canvas 276 481 755 363 divide-by-prev 0;
#X obj 283 99 inlet~;
#X obj 385 101 inlet~;
#X obj 284 249 outlet~;
#X obj 386 249 outlet~;
#X obj 107 251 outlet~;
#X obj 208 253 outlet~;
#X obj 250 180 *~;
#X obj 217 180 *~;
#X obj 182 181 *~;
#X obj 149 181 *~;
#X obj 149 203 +~;
#X obj 217 202 -~;
#X obj 92 49 tabreceive~ \$0-last-real;
#X obj 190 72 tabreceive~ \$0-last-imag;
#X connect 0 0 2 0;
#X connect 0 0 9 0;
#X connect 0 0 6 0;
#X connect 1 0 3 0;
#X connect 1 0 8 0;
#X connect 1 0 7 0;
#X connect 6 0 11 1;
#X connect 7 0 11 0;
#X connect 8 0 10 1;
#X connect 9 0 10 0;
#X connect 10 0 4 0;
#X connect 11 0 5 0;
#X connect 12 0 9 1;
#X connect 12 0 7 1;
#X connect 13 0 8 1;
#X connect 13 0 6 1;
#X restore 603 192 pd divide-by-prev;
#N canvas 650 183 602 327 switch 0;
#X obj 19 163 inlet~;
#X obj 107 99 inlet~;
#X obj 169 100 inlet~;
#X obj 273 97 inlet~;
#X obj 333 97 inlet~;
#X obj 367 185 -~;
#X obj 338 231 +~;
#X obj 372 229 *~;
#X obj 250 182 -~;
#X obj 220 228 +~;
#X obj 254 228 *~;
#X obj 219 278 outlet~;
#X obj 338 274 outlet~;
#X text 46 28 switch between two pairs of inputs. If first inlet is
one \, take the left-hand pair \, otherwise the right-hand one.;
#X text 15 140 switch;
#X text 92 76 pass this if one;
#X text 269 77 pass this if zero;
#X connect 0 0 10 1;
#X connect 0 0 7 1;
#X connect 1 0 8 0;
#X connect 2 0 5 0;
#X connect 3 0 9 0;
#X connect 3 0 8 1;
#X connect 4 0 6 0;
#X connect 4 0 5 1;
#X connect 5 0 7 0;
#X connect 6 0 12 0;
#X connect 7 0 6 1;
#X connect 8 0 10 0;
#X connect 9 0 11 0;
#X connect 10 0 9 1;
#X restore 327 275 pd switch;
#N canvas 650 183 602 327 switch 0;
#X obj 19 163 inlet~;
#X obj 107 99 inlet~;
#X obj 169 100 inlet~;
#X obj 273 97 inlet~;
#X obj 333 97 inlet~;
#X obj 367 185 -~;
#X obj 338 231 +~;
#X obj 372 229 *~;
#X obj 250 182 -~;
#X obj 220 228 +~;
#X obj 254 228 *~;
#X obj 219 278 outlet~;
#X obj 338 274 outlet~;
#X text 46 28 switch between two pairs of inputs. If first inlet is
one \, take the left-hand pair \, otherwise the right-hand one.;
#X text 15 140 switch;
#X text 92 76 pass this if one;
#X text 269 77 pass this if zero;
#X connect 0 0 10 1;
#X connect 0 0 7 1;
#X connect 1 0 8 0;
#X connect 2 0 5 0;
#X connect 3 0 9 0;
#X connect 3 0 8 1;
#X connect 4 0 6 0;
#X connect 4 0 5 1;
#X connect 5 0 7 0;
#X connect 6 0 12 0;
#X connect 7 0 6 1;
#X connect 8 0 10 0;
#X connect 9 0 11 0;
#X connect 10 0 9 1;
#X restore 484 266 pd switch;
#X obj 655 270 r revtime;
#X obj 54 476 tabreceive~ \$0-hann;
#X obj 94 35 tabreceive~ \$0-hann;
#X obj 505 112 tabreceive~ \$0-inc-real;
#X obj 587 134 tabreceive~ \$0-inc-imag;
#X obj 752 220 tabsend~ \$0-last-imag;
#X obj 702 243 tabsend~ \$0-last-real;
#X obj 559 426 tabsend~ \$0-inc-imag;
#X obj 484 449 tabsend~ \$0-inc-real;
#X msg 665 293 set \$1;
#X obj 665 317 s revtime-set;
#X obj 800 483 loadbang;
#X msg 800 509 \; pd dsp 1 \; window-size 4096 \; revtime 20;
#X obj 800 411 r window-size;
#X msg 800 433 set \$1 4;
#X obj 800 455 block~;
#X obj 655 341 expr 1 - 0.2/max(0.2 \, $f1);
#X text 20 206 choose whether to;
#X text 18 224 punch in new (amplitude \,;
#X text 16 243 increment) pair;
#X obj 367 26 tabreceive~ \$0-amp-real;
#X obj 443 50 tabreceive~ \$0-amp-imag;
#X obj 325 537 tabsend~ \$0-amp-imag;
#X obj 258 560 tabsend~ \$0-amp-real;
#X text 361 6 previous output amplitude \, encoding both magnitude
and phase;
#X text 453 87 previous phase increment (unit-magnitude complex number)
;
#X obj 506 134 +~ 1e-015;
#X obj 366 50 +~ 1e-015;
#X text 363 482 propagate amplitudes by multiplying in the;
#X text 361 499 increments \, which advance the phase and drop;
#X text 365 514 magnitude according to revtime.;
#X text 608 370 normalize increments between 0 and;
#X text 606 388 1 according to revtime.;
#X text 78 453 IFFT and output;
#X connect 0 0 16 0;
#X connect 1 0 6 1;
#X connect 2 0 6 0;
#X connect 3 0 5 1;
#X connect 4 0 5 0;
#X connect 5 0 52 0;
#X connect 6 0 53 0;
#X connect 7 0 1 0;
#X connect 7 0 3 0;
#X connect 7 0 37 0;
#X connect 8 0 10 1;
#X connect 9 0 10 0;
#X connect 10 0 25 0;
#X connect 11 0 22 1;
#X connect 12 0 22 0;
#X connect 13 0 21 0;
#X connect 14 0 21 0;
#X connect 15 0 19 0;
#X connect 17 0 0 0;
#X connect 18 0 15 1;
#X connect 19 0 9 0;
#X connect 19 0 9 1;
#X connect 19 0 27 0;
#X connect 19 0 28 1;
#X connect 19 1 8 0;
#X connect 19 1 8 1;
#X connect 19 1 27 1;
#X connect 19 1 28 2;
#X connect 20 0 17 0;
#X connect 21 0 26 0;
#X connect 22 0 25 1;
#X connect 23 0 2 0;
#X connect 23 0 4 0;
#X connect 23 0 38 0;
#X connect 24 0 0 1;
#X connect 25 0 28 0;
#X connect 25 0 29 0;
#X connect 26 0 23 1;
#X connect 26 0 7 1;
#X connect 27 0 29 1;
#X connect 27 1 29 2;
#X connect 27 2 36 0;
#X connect 27 3 35 0;
#X connect 28 0 20 0;
#X connect 28 0 3 1;
#X connect 28 0 2 1;
#X connect 28 1 20 1;
#X connect 28 1 1 1;
#X connect 28 1 4 1;
#X connect 29 0 14 0;
#X connect 29 0 14 1;
#X connect 29 0 23 0;
#X connect 29 1 13 0;
#X connect 29 1 13 1;
#X connect 29 1 7 0;
#X connect 30 0 39 0;
#X connect 30 0 46 0;
#X connect 31 0 17 1;
#X connect 32 0 15 0;
#X connect 33 0 56 0;
#X connect 34 0 29 4;
#X connect 39 0 40 0;
#X connect 41 0 42 0;
#X connect 43 0 44 0;
#X connect 44 0 45 0;
#X connect 46 0 26 1;
#X connect 50 0 57 0;
#X connect 51 0 11 0;
#X connect 51 0 11 1;
#X connect 51 0 28 4;
#X connect 56 0 29 3;
#X connect 57 0 12 0;
#X connect 57 0 12 1;
#X connect 57 0 28 3;
#X restore 130 163 pd fft;
#X floatatom 245 99 0 0 1000 0 - revtime-set -;
#X floatatom 47 99 0 0 0 0 - - -;
#X text 271 99 reverb time;
#X obj 130 193 output~;
#X obj 27 195 output~;
#X text 35 -76 This is a phase vocoder acting as a reverberator. The
sound is more coherent (less "whispered") than a real room or a standard
delay-based reverberator.;
#X text 34 -34 The technique is to "punch" the incoming sound into
channels where (1) there's a peak \, and (2) the incoming sound drowns
out whatever might already be there. If the sound already in any channel
is louder than the input the input for that channel is ignored.;
#N canvas 0 0 508 303 test-sound 0;
#X obj 35 33 inlet;
#X obj 36 144 osc~;
#X obj 164 173 line~;
#X floatatom 36 95 0 0 0 0 - - -;
#X obj 37 71 mtof;
#X obj 36 169 cos~;
#X obj 36 193 hip~ 20;
#X obj 36 118 t f b;
#X obj 164 63 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X obj 209 144 pack 0 30;
#X obj 194 90 del 20;
#X obj 164 116 pack 1 20;
#X obj 38 224 *~;
#X obj 42 270 outlet~;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 12 1;
#X connect 3 0 7 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 12 0;
#X connect 7 0 1 0;
#X connect 7 1 8 0;
#X connect 8 0 10 0;
#X connect 8 0 11 0;
#X connect 9 0 2 0;
#X connect 10 0 9 0;
#X connect 11 0 2 0;
#X connect 12 0 13 0;
#X restore 47 126 pd test-sound;
#X text 35 77 short tone;
#X obj 245 123 s revtime;
#X text 34 34 For each window \, the amplitude in each channel is propagated
by a constant phase increment and multiplied downward by a gain that
determines the "reverb time".;
#N canvas 0 110 565 454 hann-window 0;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-hann 4096 float 0 black black;
#X coords 0 1 4095 0 300 100 1;
#X restore 82 311 graph;
#X obj 378 165 osc~;
#X obj 378 190 *~ -0.5;
#X obj 378 214 +~ 0.5;
#X obj 331 247 tabwrite~ \$0-hann;
#X obj 37 88 r window-size;
#X obj 38 173 /;
#X obj 127 142 samplerate~;
#X obj 38 251 s window-sec;
#X obj 177 204 swap;
#X obj 177 228 /;
#X obj 177 252 s window-hz;
#X obj 49 201 * 1000;
#X obj 49 228 s window-msec;
#X obj 38 115 t f b f;
#X msg 173 92 resize \$1;
#X obj 173 116 s \$0-hann;
#X obj 330 105 r window-hz;
#X msg 382 130 0;
#X obj 330 131 t f b;
#X text 15 8 calculate Hann window table (variable window size) and
constants window-hz (fundamental frequency of analysis) \, window-sec
and window-msec (analysis window size in seconds and msec).;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 5 0 14 0;
#X connect 6 0 8 0;
#X connect 6 0 12 0;
#X connect 7 0 6 1;
#X connect 7 0 9 1;
#X connect 9 0 10 0;
#X connect 9 1 10 1;
#X connect 10 0 11 0;
#X connect 12 0 13 0;
#X connect 14 0 6 0;
#X connect 14 0 9 0;
#X connect 14 1 7 0;
#X connect 14 2 15 0;
#X connect 15 0 16 0;
#X connect 17 0 19 0;
#X connect 18 0 1 1;
#X connect 19 0 1 0;
#X connect 19 1 4 0;
#X connect 19 1 18 0;
#X restore 245 199 pd hann-window;
#N canvas 52 71 774 520 tables 0;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-last-real 2048 float 0 black black;
#X coords 0 500 2048 -500 200 150 1;
#X restore 103 15 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-last-imag 2048 float 0 black black;
#X coords 0 500 2048 500 200 150 1;
#X restore 497 6 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-amp-real 2048 float 0 black black;
#X coords 0 500 2048 -500 200 150 1;
#X restore 105 185 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-amp-imag 2048 float 0 black black;
#X coords 0 500 2048 -500 200 150 1;
#X restore 501 178 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-inc-real 2048 float 0 black black;
#X coords 0 1 2048 -1 200 150 1;
#X restore 105 357 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-inc-imag 2048 float 0 black black;
#X coords 0 1 2048 -1 200 150 1;
#X restore 503 342 graph;
#X restore 245 220 pd tables;
#X text 48 252 reverb in;
#X text 132 252 reverb out;
#X obj 17 -111 cnv 15 445 20 empty \$0-pddp.cnv.header piano_reverb
20 10 1 18 -261139 -33289 0;
#X obj 423 -111;
#X obj 17 275 cnv 15 445 20 empty \$0-pddp.cnv.footer empty 20 12 0
14 -233017 -33289 0;
#N canvas 44 246 494 284 META 0;
#X text 12 105 WEBSITE http://crca.ucsd.edu/~msp/;
#X text 12 85 AUTHOR Miller Puckette;
#X text 12 65 LIBRARY PDDP;
#X text 12 25 LICENSE SIBSD;
#X text 12 125 HELP_PATCH_AUTHORS Updated for release 0.39. Jonathan
Wilkes revised the patch to conform to the PDDP template for Pd version
0.42.;
#X text 12 45 DESCRIPTION piano reverb;
#X text 12 5 KEYWORDS signal tutorial;
#X restore 406 277 pd META;
#N canvas 13 202 428 190 References 0;
#X obj 1 1 cnv 15 425 20 empty \$0-pddp.cnv.subheading empty 3 12 0
14 -261139 -33289 0;
#X text 7 2 piano reverb- Related Help Documents;
#X text 19 37 links:;
#X restore 119 277 pd References;
#X obj 22 277 pddp/pddplink ../5.reference/pddp/help.pd -text help
;
#X obj 199 82 r a;
#X obj 162 106 * 30;
#X connect 0 0 4 0;
#X connect 0 0 4 1;
#X connect 1 0 10 0;
#X connect 2 0 8 0;
#X connect 8 0 0 0;
#X connect 8 0 5 0;
#X connect 8 0 5 1;
#X connect 22 0 23 0;
#X connect 23 0 2 0;
#X restore 803 288 pd piano_rev;
#X obj 733 344 delwrite~ gamma 400;
#X obj 544 343 delwrite~ beta 400;
#X obj 514 468 *~;
#X obj 492 444 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 624 479 *~;
#X obj 602 455 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X text 889 289 open here to adjust piano_rev volume;
#X obj 579 399 delread~ beta 50;
#X obj 724 407 delread~ gamma 50;
#X connect 1 0 2 0;
#X connect 2 0 56 0;
#X connect 2 0 57 0;
#X connect 2 0 58 0;
#X connect 2 0 59 0;
#X connect 2 0 60 0;
#X connect 2 0 67 0;
#X connect 2 0 74 0;
#X connect 3 0 29 0;
#X connect 3 0 83 0;
#X connect 4 0 23 0;
#X connect 4 0 80 0;
#X connect 5 0 25 0;
#X connect 5 0 81 0;
#X connect 6 0 27 0;
#X connect 6 0 82 0;
#X connect 7 0 31 0;
#X connect 7 0 84 0;
#X connect 8 0 4 0;
#X connect 9 0 1 0;
#X connect 10 0 9 0;
#X connect 11 0 9 0;
#X connect 12 0 32 0;
#X connect 13 0 5 0;
#X connect 14 0 6 0;
#X connect 15 0 3 0;
#X connect 16 0 7 0;
#X connect 17 0 12 0;
#X connect 17 0 75 0;
#X connect 17 0 76 0;
#X connect 17 0 77 0;
#X connect 17 0 78 0;
#X connect 19 0 33 0;
#X connect 20 0 34 0;
#X connect 21 0 35 0;
#X connect 22 0 80 1;
#X connect 23 0 22 0;
#X connect 24 0 81 1;
#X connect 25 0 24 0;
#X connect 26 0 82 1;
#X connect 27 0 26 0;
#X connect 28 0 83 1;
#X connect 29 0 28 0;
#X connect 30 0 84 1;
#X connect 31 0 30 0;
#X connect 32 0 37 1;
#X connect 33 0 38 1;
#X connect 34 0 39 1;
#X connect 35 0 40 1;
#X connect 36 0 41 1;
#X connect 37 0 49 0;
#X connect 38 0 49 0;
#X connect 39 0 49 0;
#X connect 40 0 49 1;
#X connect 40 0 96 0;
#X connect 41 0 49 1;
#X connect 41 0 95 0;
#X connect 42 0 37 0;
#X connect 43 0 38 0;
#X connect 44 0 39 0;
#X connect 45 0 40 0;
#X connect 46 0 41 0;
#X connect 48 0 47 0;
#X connect 50 0 91 0;
#X connect 51 0 92 0;
#X connect 52 0 90 0;
#X connect 53 0 88 0;
#X connect 54 0 87 0;
#X connect 56 0 8 0;
#X connect 57 0 13 0;
#X connect 58 0 14 0;
#X connect 59 0 15 0;
#X connect 60 0 16 0;
#X connect 61 0 64 0;
#X connect 61 0 65 0;
#X connect 62 0 61 0;
#X connect 63 0 65 1;
#X connect 64 0 63 0;
#X connect 65 0 66 0;
#X connect 67 0 62 0;
#X connect 68 0 71 0;
#X connect 68 0 72 0;
#X connect 69 0 68 0;
#X connect 70 0 72 1;
#X connect 71 0 70 0;
#X connect 72 0 73 0;
#X connect 74 0 69 0;
#X connect 75 0 19 0;
#X connect 76 0 20 0;
#X connect 77 0 21 0;
#X connect 78 0 79 0;
#X connect 79 0 36 0;
#X connect 80 0 50 0;
#X connect 81 0 51 0;
#X connect 82 0 52 0;
#X connect 83 0 53 0;
#X connect 84 0 54 0;
#X connect 85 0 86 0;
#X connect 86 0 17 0;
#X connect 87 0 36 1;
#X connect 88 0 35 1;
#X connect 90 0 34 1;
#X connect 90 0 93 0;
#X connect 91 0 32 1;
#X connect 92 0 33 1;
#X connect 97 0 49 1;
#X connect 98 0 97 0;
#X connect 99 0 49 1;
#X connect 100 0 99 0;
#X connect 102 0 97 1;
#X connect 103 0 99 1;
